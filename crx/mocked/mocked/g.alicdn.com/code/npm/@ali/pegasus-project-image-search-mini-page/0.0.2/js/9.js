(self.webpackChunk_ali_pegasus_project_image_search_mini_page=self.webpackChunk_ali_pegasus_project_image_search_mini_page||[]).push([[9],{4121:function(e){"undefined"===typeof window&&(window={ctrl:{},lib:{}}),!window.ctrl&&(window.ctrl={}),!window.lib&&(window.lib={}),function(e,t){var n=function(){var e={},t=new l((function(t,n){e.resolve=t,e.reject=n}));return e.promise=t,e},o=function(e,t){for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e},i=function(e){(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]||document.firstElementChild||document).appendChild(e)},r=function(){if(window.etSign)window.__etReady=!0;else{window.etReady=function(){window.__etReady=!0};var e=document.createElement("script");e.id="aplus-sufei",e.src="//g.alicdn.com/secdev/entry/index.js",i(e)}},a=function(e){var t=[];for(var n in e)e[n]&&t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")},s=function(e){return"[object Object]"=={}.toString.call(e)},u=function(e){var t=new RegExp("(?:^|;\\s*)"+e+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return t?t[1]:void 0},d=function(e,t,n){var o=new Date;o.setTime(o.getTime()-864e5),document.cookie=e+"=;path=/;domain=."+t+";expires="+o.toGMTString(),document.cookie=e+"=;path=/;domain=."+n+"."+t+";expires="+o.toGMTString()},p=function(e,t){for(var n=e.split("."),o=t.split("."),i=0;3>i;i++){var r=Number(n[i]),a=Number(o[i]);if(r>a)return 1;if(a>r)return-1;if(!isNaN(r)&&isNaN(a))return 1;if(isNaN(r)&&!isNaN(a))return-1}return 0},c=function(e){this.id=""+(new Date).getTime()+ ++v,this.params=o(e||{},{v:"*",data:{},type:"get",dataType:"jsonp"}),this.params.type=this.params.type.toLowerCase(),"object"==typeof this.params.data&&(this.params.data=JSON.stringify(this.params.data)),this.middlewares=_.slice(0)},l=e.Promise,f=(l||{resolve:function(){}}).resolve();String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});var m={useJsonpResultType:!1,safariGoLogin:!0,useAlipayJSBridge:!1},_=[],w={ERROR:-1,SUCCESS:0,TOKEN_EXPIRED:1,SESSION_EXPIRED:2};(function(){var t=e.location.hostname;if(!t){var n=e.parent.location.hostname;n&&~n.indexOf("zebra.alibaba-inc.com")&&(t=n)}var o=new RegExp("([^.]*?)\\.?((?:"+["taobao.net","taobao.com","tmall.com","tmall.hk","alibaba-inc.com"].join(")|(?:").replace(/\./g,"\\.")+"))","i"),i=t.match(o)||[],r=i[2]||"taobao.com",a=i[1]||"m";"taobao.net"!==r||"x"!==a&&"waptest"!==a&&"daily"!==a?"taobao.net"===r&&"demo"===a?a="demo":"alibaba-inc.com"===r&&"zebra"===a?a="zebra":"waptest"!==a&&"wapa"!==a&&"m"!==a&&(a="m"):a="waptest";var s="h5api";"taobao.net"===r&&"waptest"===a&&(s="acs"),m.mainDomain=r,m.subDomain=a,m.prefix=s})(),function(){var t=e.navigator.userAgent,n=t.match(/WindVane[\/\s]([\d\.\_]+)/);n&&(m.WindVaneVersion=n[1]);var o=t.match(/AliApp\(([^\/]+)\/([\d\.\_]+)\)/i);o&&(m.AliAppName=o[1],m.AliAppVersion=o[2]);var i=t.match(/AMapClient\/([\d\.\_]+)/i);i&&(m.AliAppName="AMAP",m.AliAppVersion=i[1])}();var h=/[Android|Adr]/.test(e.navigator.userAgent),g="AP"===m.AliAppName&&p(m.AliAppVersion,"10.1.2")>=0||"KB"===m.AliAppName&&p(m.AliAppVersion,"7.1.62")>=0||h&&"AMAP"===m.AliAppName&&p(m.AliAppVersion,"1.0.1")>=0,v=0;c.prototype.use=function(e){if(!e)throw new Error("middleware is undefined");return this.middlewares.push(e),this},c.prototype.__processRequestMethod=function(e){var t=this.params,n=this.options;"get"===t.type&&"jsonp"===t.dataType?n.getJSONP=!0:"get"===t.type&&"originaljsonp"===t.dataType?n.getOriginalJSONP=!0:"get"===t.type&&"json"===t.dataType?n.getJSON=!0:"post"===t.type&&(n.postJSON=!0),e()},c.prototype.__processRequestType=function(n){var o=this,i=this.params,r=this.options;if(!0===m.H5Request&&(r.H5Request=!0),!0===m.WindVaneRequest&&(r.WindVaneRequest=!0),!1===r.H5Request&&!0===r.WindVaneRequest){if(!g&&(!t.windvane||parseFloat(r.WindVaneVersion)<5.4))throw new Error("WINDVANE_NOT_FOUND::\u7f3a\u5c11WindVane\u73af\u5883");if(g&&!e.AlipayJSBridge)throw new Error("ALIPAY_NOT_READY::\u652f\u4ed8\u5b9d\u901a\u9053\u672a\u51c6\u5907\u597d\uff0c\u652f\u4ed8\u5b9d\u8bf7\u89c1 https://lark.alipay.com/mtbsdkdocs/mtopjssdkdocs/pucq6z")}else if(!0===r.H5Request)r.WindVaneRequest=!1;else if("undefined"==typeof r.WindVaneRequest&&"undefined"==typeof r.H5Request){if(t.windvane&&parseFloat(r.WindVaneVersion)>=5.4?r.WindVaneRequest=!0:r.H5Request=!0,g){if(r.WindVaneRequest=r.H5Request=void 0,e.AlipayJSBridge)if(s(i.data))r.WindVaneRequest=!0;else try{s(JSON.parse(i.data))?r.WindVaneRequest=!0:r.H5Request=!0}catch(a){r.H5Request=!0}else r.H5Request=!0;"AMAP"!==m.AliAppName||i.useNebulaJSbridgeWithAMAP||(r.WindVaneRequest=r.H5Request=void 0,r.H5Request=!0)}window.self!==window.top&&(r.H5Request=!0)}var u=e.navigator.userAgent.toLowerCase();return u.indexOf("youku")>-1&&r.mainDomain.indexOf("youku.com")<0&&(r.WindVaneRequest=!1,r.H5Request=!0),r.mainDomain.indexOf("youku.com")>-1&&u.indexOf("youku")<0&&(r.WindVaneRequest=!1,r.H5Request=!0),n?n().then((function(){var e=r.retJson.ret;if(e instanceof Array&&(e=e.join(",")),!0===r.WindVaneRequest&&g&&r.retJson.error||!e||e.indexOf("PARAM_PARSE_ERROR")>-1||e.indexOf("HY_FAILED")>-1||e.indexOf("HY_NO_HANDLER")>-1||e.indexOf("HY_CLOSED")>-1||e.indexOf("HY_EXCEPTION")>-1||e.indexOf("HY_NO_PERMISSION")>-1){if(!g||!isNaN(r.retJson.error)||-1!==r.retJson.error.indexOf("FAIL_SYS_ACCESS_DENIED"))return g&&s(i.data)&&(i.data=JSON.stringify(i.data)),m.H5Request=!0,o.__sequence([o.__processRequestType,o.__processToken,o.__processRequestUrl,o.middlewares,o.__processRequest]);"undefined"==typeof r.retJson.api&&"undefined"==typeof r.retJson.v&&(r.retJson.api=i.api,r.retJson.v=i.v,r.retJson.ret=[r.retJson.error+"::"+r.retJson.errorMessage],r.retJson.data={})}})):void 0};var y="_m_h5_c",R="_m_h5_tk";c.prototype.__getTokenFromAlipay=function(){var t=n(),o=this.options,i=(e.navigator.userAgent,!!location.protocol.match(/^https?\:$/));return!0===o.useAlipayJSBridge&&!i&&g&&e.AlipayJSBridge&&e.AlipayJSBridge.call?e.AlipayJSBridge.call("getMtopToken",(function(e){e&&e.token&&(o.token=e.token),t.resolve()}),(function(){t.resolve()})):t.resolve(),t.promise},c.prototype.__getTokenFromCookie=function(){var e=this.options;return e.CDR&&u(y)?e.token=u(y).split(";")[0]:e.token=e.token||u(R),e.token&&(e.token=e.token.split("_")[0]),l.resolve()},c.prototype.__waitWKWebViewCookie=function(t){var n=this.options;n.waitWKWebViewCookieFn&&n.H5Request&&e.webkit&&e.webkit.messageHandlers?n.waitWKWebViewCookieFn(t):t()},c.prototype.__processToken=function(e){var t=this,n=this.options;return this.params,n.token&&delete n.token,!0!==n.WindVaneRequest?f.then((function(){return t.__getTokenFromAlipay()})).then((function(){return t.__getTokenFromCookie()})).then(e).then((function(){var e=n.retJson,o=e.ret;if(o instanceof Array&&(o=o.join(",")),o.indexOf("TOKEN_EMPTY")>-1||(!0===n.CDR||!0===n.syncCookieMode)&&o.indexOf("ILLEGAL_ACCESS")>-1||o.indexOf("TOKEN_EXOIRED")>-1){if(n.maxRetryTimes=n.maxRetryTimes||5,n.failTimes=n.failTimes||0,n.H5Request&&++n.failTimes<n.maxRetryTimes){var i=[t.__waitWKWebViewCookie,t.__processToken,t.__processRequestUrl,t.middlewares,t.__processRequest];return!0===n.syncCookieMode&&t.constructor.__cookieProcessorId!==t.id&&(t.constructor.__cookieProcessor?i=[function(e){var n=function(){t.constructor.__cookieProcessor=null,t.constructor.__cookieProcessorId=null,e()};t.constructor.__cookieProcessor?t.constructor.__cookieProcessor.then(n).catch(n):e()},t.__waitWKWebViewCookie,t.__processToken,t.__processRequestUrl,t.middlewares,t.__processRequest]:(t.constructor.__cookieProcessor=t.__requestProcessor,t.constructor.__cookieProcessorId=t.id)),t.__sequence(i)}n.maxRetryTimes>0&&(d(y,n.pageDomain,"*"),d(R,n.mainDomain,n.subDomain),d("_m_h5_tk_enc",n.mainDomain,n.subDomain)),e.retType=w.TOKEN_EXPIRED}})):void e()},c.prototype.__processRequestUrl=function(t){var n=this.params,o=this.options;if(o.hostSetting&&o.hostSetting[e.location.hostname]){var i=o.hostSetting[e.location.hostname];i.prefix&&(o.prefix=i.prefix),i.subDomain&&(o.subDomain=i.subDomain),i.mainDomain&&(o.mainDomain=i.mainDomain)}if(!0===o.H5Request){var a="//"+(o.prefix?o.prefix+".":"")+(o.subDomain?o.subDomain+".":"")+o.mainDomain+"/h5/"+n.api.toLowerCase()+"/"+n.v.toLowerCase()+"/",s=n.appKey||("waptest"===o.subDomain?"4272":"12574478"),u=(new Date).getTime(),d=function(e){function t(e,t){return e<<t|e>>>32-t}function n(e,t){var n,o,i,r,a;return i=2147483648&e,r=2147483648&t,a=(1073741823&e)+(1073741823&t),(n=1073741824&e)&(o=1073741824&t)?2147483648^a^i^r:n|o?1073741824&a?3221225472^a^i^r:1073741824^a^i^r:a^i^r}function o(e,o,i,r,a,s,u){return e=n(e,n(n(function(e,t,n){return e&t|~e&n}(o,i,r),a),u)),n(t(e,s),o)}function i(e,o,i,r,a,s,u){return e=n(e,n(n(function(e,t,n){return e&n|t&~n}(o,i,r),a),u)),n(t(e,s),o)}function r(e,o,i,r,a,s,u){return e=n(e,n(n(function(e,t,n){return e^t^n}(o,i,r),a),u)),n(t(e,s),o)}function a(e,o,i,r,a,s,u){return e=n(e,n(n(function(e,t,n){return t^(e|~n)}(o,i,r),a),u)),n(t(e,s),o)}function s(e){var t,n="",o="";for(t=0;3>=t;t++)n+=(o="0"+(e>>>8*t&255).toString(16)).substr(o.length-2,2);return n}var u,d,p,c,l,f,m,_,w,h;for(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var o=e.charCodeAt(n);128>o?t+=String.fromCharCode(o):o>127&&2048>o?(t+=String.fromCharCode(o>>6|192),t+=String.fromCharCode(63&o|128)):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128),t+=String.fromCharCode(63&o|128))}return t}(e),h=function(e){for(var t,n=e.length,o=n+8,i=16*((o-o%64)/64+1),r=new Array(i-1),a=0,s=0;n>s;)a=s%4*8,r[t=(s-s%4)/4]=r[t]|e.charCodeAt(s)<<a,s++;return a=s%4*8,r[t=(s-s%4)/4]=r[t]|128<<a,r[i-2]=n<<3,r[i-1]=n>>>29,r}(e),f=1732584193,m=4023233417,_=2562383102,w=271733878,u=0;u<h.length;u+=16)d=f,p=m,c=_,l=w,f=o(f,m,_,w,h[u+0],7,3614090360),w=o(w,f,m,_,h[u+1],12,3905402710),_=o(_,w,f,m,h[u+2],17,606105819),m=o(m,_,w,f,h[u+3],22,3250441966),f=o(f,m,_,w,h[u+4],7,4118548399),w=o(w,f,m,_,h[u+5],12,1200080426),_=o(_,w,f,m,h[u+6],17,2821735955),m=o(m,_,w,f,h[u+7],22,4249261313),f=o(f,m,_,w,h[u+8],7,1770035416),w=o(w,f,m,_,h[u+9],12,2336552879),_=o(_,w,f,m,h[u+10],17,4294925233),m=o(m,_,w,f,h[u+11],22,2304563134),f=o(f,m,_,w,h[u+12],7,1804603682),w=o(w,f,m,_,h[u+13],12,4254626195),_=o(_,w,f,m,h[u+14],17,2792965006),f=i(f,m=o(m,_,w,f,h[u+15],22,1236535329),_,w,h[u+1],5,4129170786),w=i(w,f,m,_,h[u+6],9,3225465664),_=i(_,w,f,m,h[u+11],14,643717713),m=i(m,_,w,f,h[u+0],20,3921069994),f=i(f,m,_,w,h[u+5],5,3593408605),w=i(w,f,m,_,h[u+10],9,38016083),_=i(_,w,f,m,h[u+15],14,3634488961),m=i(m,_,w,f,h[u+4],20,3889429448),f=i(f,m,_,w,h[u+9],5,568446438),w=i(w,f,m,_,h[u+14],9,3275163606),_=i(_,w,f,m,h[u+3],14,4107603335),m=i(m,_,w,f,h[u+8],20,1163531501),f=i(f,m,_,w,h[u+13],5,2850285829),w=i(w,f,m,_,h[u+2],9,4243563512),_=i(_,w,f,m,h[u+7],14,1735328473),f=r(f,m=i(m,_,w,f,h[u+12],20,2368359562),_,w,h[u+5],4,4294588738),w=r(w,f,m,_,h[u+8],11,2272392833),_=r(_,w,f,m,h[u+11],16,1839030562),m=r(m,_,w,f,h[u+14],23,4259657740),f=r(f,m,_,w,h[u+1],4,2763975236),w=r(w,f,m,_,h[u+4],11,1272893353),_=r(_,w,f,m,h[u+7],16,4139469664),m=r(m,_,w,f,h[u+10],23,3200236656),f=r(f,m,_,w,h[u+13],4,681279174),w=r(w,f,m,_,h[u+0],11,3936430074),_=r(_,w,f,m,h[u+3],16,3572445317),m=r(m,_,w,f,h[u+6],23,76029189),f=r(f,m,_,w,h[u+9],4,3654602809),w=r(w,f,m,_,h[u+12],11,3873151461),_=r(_,w,f,m,h[u+15],16,530742520),f=a(f,m=r(m,_,w,f,h[u+2],23,3299628645),_,w,h[u+0],6,4096336452),w=a(w,f,m,_,h[u+7],10,1126891415),_=a(_,w,f,m,h[u+14],15,2878612391),m=a(m,_,w,f,h[u+5],21,4237533241),f=a(f,m,_,w,h[u+12],6,1700485571),w=a(w,f,m,_,h[u+3],10,2399980690),_=a(_,w,f,m,h[u+10],15,4293915773),m=a(m,_,w,f,h[u+1],21,2240044497),f=a(f,m,_,w,h[u+8],6,1873313359),w=a(w,f,m,_,h[u+15],10,4264355552),_=a(_,w,f,m,h[u+6],15,2734768916),m=a(m,_,w,f,h[u+13],21,1309151649),f=a(f,m,_,w,h[u+4],6,4149444226),w=a(w,f,m,_,h[u+11],10,3174756917),_=a(_,w,f,m,h[u+2],15,718787259),m=a(m,_,w,f,h[u+9],21,3951481745),f=n(f,d),m=n(m,p),_=n(_,c),w=n(w,l);return(s(f)+s(m)+s(_)+s(w)).toLowerCase()}(o.token+"&"+u+"&"+s+"&"+n.data),p={jsv:"2.7.2",appKey:s,t:u,sign:d},c={data:n.data,ua:n.ua};Object.keys(n).forEach((function(e){"undefined"==typeof p[e]&&"undefined"==typeof c[e]&&"headers"!==e&&"ext_headers"!==e&&"ext_querys"!==e&&(p[e]=n[e])})),n.ext_querys&&Object.keys(n.ext_querys).forEach((function(e){p[e]=n.ext_querys[e]})),o.getJSONP?p.type="jsonp":o.getOriginalJSONP?p.type="originaljsonp":(o.getJSON||o.postJSON)&&(p.type="originaljson"),"undefined"!=typeof n.valueType&&("original"===n.valueType?o.getJSONP||o.getOriginalJSONP?p.type="originaljsonp":(o.getJSON||o.postJSON)&&(p.type="originaljson"):"string"===n.valueType&&(o.getJSONP||o.getOriginalJSONP?p.type="jsonp":(o.getJSON||o.postJSON)&&(p.type="json"))),!0===o.useJsonpResultType&&"originaljson"===p.type&&delete p.type,o.dangerouslySetProtocol&&(a=o.dangerouslySetProtocol+":"+a),"5.0"===n.SV&&(a+="5.0/",r()),o.querystring=p,o.postdata=c,o.path=a}t()},c.prototype.__processUnitPrefix=function(e){e()};var S=0;c.prototype.__requestJSONP=function(e){var o=function(e){if(c&&clearTimeout(c),l.parentNode&&l.parentNode.removeChild(l),"TIMEOUT"===e)window[p]=function(){window[p]=void 0;try{delete window[p]}catch(e){}};else{window[p]=void 0;try{delete window[p]}catch(t){}}},r=n(),s=this.params,u=this.options,d=s.timeout||2e4,p="mtopjsonp"+(s.jsonpIncPrefix||"")+ ++S,c=setTimeout((function(){e(u.timeoutErrMsg||"TIMEOUT::\u63a5\u53e3\u8d85\u65f6"),o("TIMEOUT")}),d);u.querystring.callback=p;var l=document.createElement("script"),f=u.path+"?"+a(u.querystring)+"&"+a(u.postdata);return"5.0"===s.SV&&window.etSign&&(f+="&bx_et="+window.etSign(f)),l.src=f,l.async=!0,l.onerror=function(){o("ABORT"),e(u.abortErrMsg||"ABORT::\u63a5\u53e3\u5f02\u5e38\u9000\u51fa")},window[p]=function(){u.results=Array.prototype.slice.call(arguments),o(),r.resolve()},i(l),r.promise},c.prototype.__requestJSON=function(t){var o=function(e){c&&clearTimeout(c),"TIMEOUT"===e&&d.abort()},i=n(),r=this.params,s=this.options,d=new e.XMLHttpRequest,p=r.timeout||2e4,c=setTimeout((function(){t(s.timeoutErrMsg||"TIMEOUT::\u63a5\u53e3\u8d85\u65f6"),o("TIMEOUT")}),p);s.CDR&&u(y)&&(s.querystring.c=decodeURIComponent(u(y))),d.onreadystatechange=function(){if(4==d.readyState){var e,n,r=d.status;if(r>=200&&300>r||304==r){o(),e=d.responseText,n=d.getAllResponseHeaders()||"";try{(e=/^\s*$/.test(e)?{}:JSON.parse(e)).responseHeaders=n,s.results=[e],i.resolve()}catch(a){t("PARSE_JSON_ERROR::\u89e3\u6790JSON\u5931\u8d25")}}else o("ABORT"),t(s.abortErrMsg||"ABORT::\u63a5\u53e3\u5f02\u5e38\u9000\u51fa")}};var l,f,m=s.path+"?"+a(s.querystring);s.getJSON?(l="GET",m+="&"+a(s.postdata)):s.postJSON&&(l="POST",f=a(s.postdata)),"5.0"===r.SV&&window.etSign&&(m+="&bx_et="+window.etSign(m)),d.open(l,m,!0),d.withCredentials=!0,d.setRequestHeader("Accept","application/json"),d.setRequestHeader("Content-type","application/x-www-form-urlencoded");var _=r.ext_headers||r.headers;if(_)for(var w in _)d.setRequestHeader(w,_[w]);return d.send(f),i.promise},c.prototype.__requestWindVane=function(e){var o=function(e){if(a.results=[e],e&&e.stat&&e.stat.falcoId){var n=function(){},o={mtopStart:y,mtopEnd:Date.now(),falcoId:e.stat.falcoId};t.windvane.call(S,"falcoExtend",o,n,n)}i.resolve()},i=n(),r=this.params,a=this.options,s=r.data,u=r.api,d=r.v,p=a.postJSON?1:0,c=a.getJSON||a.postJSON||a.getOriginalJSONP?"originaljson":"";"undefined"!=typeof r.valueType&&("original"===r.valueType?c="originaljson":"string"===r.valueType&&(c="")),!0===a.useJsonpResultType&&(c="");var l,f,m="https"===location.protocol?1:0,_=r.isSec||0,w=r.sessionOption||"AutoLoginOnly",h=r.ecode||0,g=r.ext_headers||{},v=r.ext_querys||{};l=2*(f="undefined"!=typeof r.timer?parseInt(r.timer):"undefined"!=typeof r.timeout?parseInt(r.timeout):2e4);var y=Date.now();!0===r.needLogin&&"undefined"==typeof r.sessionOption&&(w="AutoLoginAndManualLogin"),"undefined"!=typeof r.secType&&"undefined"==typeof r.isSec&&(_=r.secType);var R={api:u,v:d,post:String(p),type:c,isHttps:String(m),ecode:String(h),isSec:String(_),param:JSON.parse(s),timer:f,needLogin:!!r.needLogin,sessionOption:w,ext_headers:g,ext_querys:v};r.ttid&&!0===a.dangerouslySetWVTtid&&(R.ttid=r.ttid),Object.assign&&r.dangerouslySetWindvaneParams&&Object.assign(R,r.dangerouslySetWindvaneParams);var S="MtopWVPlugin";return"string"==typeof r.customWindVaneClassName&&(S=r.customWindVaneClassName),t.windvane.call(S,"send",R,o,o,l),i.promise},c.prototype.__requestAlipay=function(t){var o=n(),i=this.params,r=this.options,a={apiName:i.api,apiVersion:i.v,needEcodeSign:"1"===String(i.ecode),headers:i.ext_headers||{},usePost:!!r.postJSON};s(i.data)||(i.data=JSON.parse(i.data)),a.data=i.data,i.ttid&&!0===r.dangerouslySetWVTtid&&(a.ttid=i.ttid),(r.getJSON||r.postJSON||r.getOriginalJSONP)&&(a.type="originaljson"),"undefined"!=typeof i.valueType&&("original"===i.valueType?a.type="originaljson":"string"===i.valueType&&delete a.type),!0===r.useJsonpResultType&&delete a.type,Object.assign&&i.dangerouslySetAlipayParams&&Object.assign(a,i.dangerouslySetAlipayParams);var u="mtop";return"string"==typeof i.customAlipayJSBridgeApi&&(u=i.customAlipayJSBridgeApi),e.AlipayJSBridge.call(u,a,(function(e){r.results=[e],o.resolve()})),o.promise},c.prototype.__processRequest=function(e,t){var n=this;return f.then((function(){var e=n.options;if(e.H5Request&&(e.getJSONP||e.getOriginalJSONP))return n.__requestJSONP(t);if(e.H5Request&&(e.getJSON||e.postJSON))return n.__requestJSON(t);if(e.WindVaneRequest)return g?n.__requestAlipay(t):n.__requestWindVane(t);throw new Error("UNEXCEPT_REQUEST::\u9519\u8bef\u7684\u8bf7\u6c42\u7c7b\u578b")})).then(e).then((function(){var e=n.options,t=(n.params,e.results[0]),o=t&&t.ret||[];t.ret=o,o instanceof Array&&(o=o.join(","));var i=t.c;e.CDR&&i&&function(e,t,n){var o=n||{};document.cookie=e.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29")+"="+t.replace(/[^+#$&/:<-\[\]-}]/g,encodeURIComponent)+(o.domain?";domain="+o.domain:"")+(o.path?";path="+o.path:"")+(o.secure?";secure":"")+(o.httponly?";HttpOnly":"")+(o.sameSite?";Samesite="+o.sameSite:"")}(y,i,{domain:e.pageDomain,path:"/",secure:e.secure,sameSite:e.sameSite}),o.indexOf("SUCCESS")>-1?t.retType=w.SUCCESS:t.retType=w.ERROR,e.retJson=t}))},c.prototype.__sequence=function(e){var t=this,o=[],i=[];e.forEach((function e(r){if(r instanceof Array)r.forEach(e);else{var a,s=n(),u=n();o.push((function(){return s=n(),(a=r.call(t,(function(e){return s.resolve(e),u.promise}),(function(e){return s.reject(e),u.promise})))&&(a=a.catch((function(e){s.reject(e)}))),s.promise})),i.push((function(e){return u.resolve(e),a}))}}));for(var r,a=f;r=o.shift();)a=a.then(r);for(;r=i.pop();)a=a.then(r);return a};var O=function(e){if(m.EtRequest&&!window.__etReady){r();var t,n,o=Number(m.EtLoadTimeout)||5e3,i=!1;window.etReady=function(){window.__etReady=!0,i||(i=!0,e())};var a=function(){t&&clearInterval(t),n&&clearTimeout(n),i||(i=!0,e())};t=setInterval((function(){try{window.etSign&&(window.__etReady=!0,a()),window.etReady&&!window.__etReady&&(window.etReady=function(){window.__etReady=!0,a()})}catch(e){a()}}),100),n=setTimeout((function(){a()}),o)}else e()},A=function(e){e()};c.prototype.request=function(n){var i=this;if(this.options=o(n||{},m),!l){var r="\u5f53\u524d\u6d4f\u89c8\u5668\u4e0d\u652f\u6301Promise\uff0c\u8bf7\u5728windows\u5bf9\u8c61\u4e0a\u6302\u8f7dPromise\u5bf9\u8c61";throw t.mtop={ERROR:r},new Error(r)}var a=l.resolve([O,A]).then((function(e){var t=e[0],n=e[1];return i.__sequence([t,i.__processRequestMethod,i.__processRequestType,i.__processToken,i.__processRequestUrl,i.middlewares,i.__processRequest,n])})).then((function(){var e=i.options.retJson;return e.retType!==w.SUCCESS?l.reject(e):i.options.successCallback?void i.options.successCallback(e):l.resolve(e)})).catch((function(e){var n;return e instanceof Error?(console.error(e.stack),n={ret:[e.message],stack:[e.stack],retJson:w.ERROR}):n="string"==typeof e?{ret:[e],retJson:w.ERROR}:void 0!==e?e:i.options.retJson,t.mtop.errorListener&&t.mtop.errorListener({api:i.params.api,data:i.params.data,v:i.params.v,retJson:n}),i.options.failureCallback?void i.options.failureCallback(n):l.reject(n)}));return this.__processRequestType(),i.options.H5Request&&(i.constructor.__firstProcessor||(i.constructor.__firstProcessor=a),O=function(e){i.constructor.__firstProcessor.then(e).catch(e)}),("get"===this.params.type&&"json"===this.params.dataType||"post"===this.params.type)&&(n.pageDomain=n.pageDomain||function(e){try{return".com"!==e.substring(e.lastIndexOf("."))?(e.split(".")||[]).length<=3?e:e.split(".").slice(1).join("."):e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)}catch(t){return e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)}}(e.location.hostname),n.mainDomain!==n.pageDomain&&(n.maxRetryTimes=4,n.CDR=!0)),this.__requestProcessor=a,a},t.mtop=function(e){return new c(e)},t.mtop.request=function(e,t,n){var o={H5Request:e.H5Request,WindVaneRequest:e.WindVaneRequest,LoginRequest:e.LoginRequest,AntiCreep:e.AntiCreep,AntiFlood:e.AntiFlood,successCallback:t,failureCallback:n||t};return new c(e).request(o)},t.mtop.H5Request=function(e,t,n){var o={H5Request:!0,successCallback:t,failureCallback:n||t};return new c(e).request(o)},t.mtop.middlewares=_,t.mtop.config=m,t.mtop.RESPONSE_TYPE=w,t.mtop.CLASS=c}(window,window.lib||(window.lib={})),function(e,t){var n=function(e){return e.preventDefault(),!1},o=function(t,o){var i=navigator.userAgent.match(/.*(iPhone|iPad|Android|ios|SymbianOS|Windows Phone).*/i),r=i&&o.h5url?o.h5url:o.url,a=o.dialogSize,s=this,u=e.dpr||1,d=document.createElement("div"),p=document.documentElement.getBoundingClientRect(),c=Math.max(p.width,window.innerWidth)/u,l=window.innerHeight/u;d.style.cssText=["-webkit-transform:scale("+u+") translateZ(0)","-ms-transform:scale("+u+") translateZ(0)","transform:scale("+u+") translateZ(0)","-webkit-transform-origin:0 0","-ms-transform-origin:0 0","transform-origin:0 0","width:"+c+"px","height:"+l+"px","z-index:2147483647","position: fixed","left:0","top:0px","background:"+(c>800?"rgba(0,0,0,.5)":"#FFF"),"display:none"].join(";");var f=document.createElement("div");f.style.cssText=["width:100%","height:52px","background:transparent","line-height:52px","text-align:left","box-sizing:border-box","padding-left:20px","position:absolute","left:0","top:0","font-size:16px","font-weight:bold","color:#333"].join(";"),f.innerText=t;var m=document.createElement("img");m.style.cssText=["display:block","position:absolute","margin-top:15px","right:0","top:0","height:15px","line-height:52px","padding:0 20px","color:#999"].join(";"),m.src="https://gw.alicdn.com/tfs/TB1QZN.CYj1gK0jSZFuXXcrHpXa-200-200.png";var _=document.createElement("iframe");if(_.style.cssText=["width:100%","height:100%","border:0","overflow:hidden"].join(";"),i)f.appendChild(m),d.appendChild(f);else{var w=a&&a.width||"420px",h=a&&a.height||"320px",g=50,v=50,y=24,R=-39;h.indexOf("px")>-1?y-=Number(h.replace("px",""))/2:h.indexOf("%")>-1&&(g-=Number(h.replace("%",""))/2),w.indexOf("px")>-1?R+=Number(w.replace("px",""))/2:w.indexOf("%")>-1&&(v+=Number(w.replace("%",""))/2),m.style.cssText=["position:absolute","width:15px","height:15px","top:"+g+"%","left:"+v+"%","cursor: pointer","border:0","z-index:1","overflow:hidden","margin-top:"+y+"px","margin-left:"+R+"px"].join(";"),d.appendChild(m),_.style.cssText=["position:absolute","top:0px","left:0px","bottom:0px","right:0px","margin:auto","width:"+w,"height:"+h,"border:0","background:#FFF","overflow:hidden","border-radius:18px"].join(";")}d.appendChild(_),d.className="J_MIDDLEWARE_FRAME_WIDGET",document.body.appendChild(d),_.src=r,m.addEventListener("click",(function(){s.hide();var e=document.createEvent("HTMLEvents");e.initEvent("close",!1,!1),d.dispatchEvent(e)}),!1),this.addEventListener=function(){d.addEventListener.apply(d,arguments)},this.removeEventListener=function(){d.removeEventListener.apply(d,arguments)},this.show=function(){document.addEventListener("touchmove",n,!1),d.style.display="block",window.scrollTo(0,0)},this.hide=function(){document.removeEventListener("touchmove",n),window.scrollTo(0,-p.top),d.parentNode&&d.parentNode.removeChild(d)}};if(!t||!t.mtop||t.mtop.ERROR)throw new Error("Mtop \u521d\u59cb\u5316\u5931\u8d25\uff01");var i=e.Promise,r=t.mtop.CLASS,a=t.mtop.config,s=t.mtop.RESPONSE_TYPE;t.mtop.middlewares.push((function(e){var n=this,o=this.options,i=this.params;return e().then((function(){var e=o.retJson,r=e.ret,u=navigator.userAgent.toLowerCase(),d=u.indexOf("safari")>-1&&u.indexOf("chrome")<0&&u.indexOf("qqbrowser")<0;if(r instanceof Array&&(r=r.join(",")),(r.indexOf("SESSION_EXPIRED")>-1||r.indexOf("SID_INVALID")>-1||r.indexOf("AUTH_REJECT")>-1||r.indexOf("NEED_LOGIN")>-1)&&(e.retType=s.SESSION_EXPIRED,!o.WindVaneRequest&&(!0===a.LoginRequest||!0===o.LoginRequest||!0===i.needLogin))){if(!t.login)throw new Error("LOGIN_NOT_FOUND::\u7f3a\u5c11lib.login");if(!0!==o.safariGoLogin||!d||"taobao.com"===o.pageDomain)return t.login.goLoginAsync().then((function(e){return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])})).catch((function(e){throw"CANCEL"===e?new Error("LOGIN_CANCEL::\u7528\u6237\u53d6\u6d88\u767b\u5f55"):new Error("LOGIN_FAILURE::\u7528\u6237\u767b\u5f55\u5931\u8d25")}));t.login.goLogin()}}))})),t.mtop.loginRequest=function(e,t,n){var o={LoginRequest:!0,H5Request:!0,successCallback:t,failureCallback:n||t};return new r(e).request(o)},t.mtop.antiFloodRequest=function(e,t,n){var o={AntiFlood:!0,successCallback:t,failureCallback:n||t};return new r(e).request(o)},t.mtop.middlewares.push((function(e){var t=this.options;return this.params,!0!==t.H5Request||!0!==a.AntiFlood&&!0!==t.AntiFlood?void e():e().then((function(){var e=t.retJson,n=e.ret;n instanceof Array&&(n=n.join(",")),n.indexOf("FAIL_SYS_USER_VALIDATE")>-1&&e.data.url&&(t.AntiFloodReferer?location.href=e.data.url.replace(/(http_referer=).+/,"$1"+t.AntiFloodReferer):location.href=e.data.url)}))})),t.mtop.antiCreepRequest=function(e,t,n){var o={AntiCreep:!0,successCallback:t,failureCallback:n||t};return new r(e).request(o)},t.mtop.middlewares.push((function(t){var n=this,r=this.options,s=this.params;return!1!==r.AntiCreep&&(r.AntiCreep=!0),!0!==s.forceAntiCreep&&!0!==r.H5Request||!0!==a.AntiCreep&&!0!==r.AntiCreep?void t():t().then((function(){var t=r.retJson,a=t.ret;if(a instanceof Array&&(a=a.join(",")),a.indexOf("CHECKJS_FLAG")>-1&&t.uuid&&t.serid){try{var u=!!window.document._sufei_data2,d=new Image,p="https://fourier.taobao.com/ts?ext=200&uuid="+t.uuid+"&serid="+t.serid+"&sufei="+u;window.location&&location.href&&(p+="&href=="+location.href.substr(0,128)),window.__fyModule&&(p+="&fyModuleLoad="+window.__fyModule.load+"&fyModuleInit="+window.__fyModule.init),window.__umModule&&(p+="&umModuleLoad="+window.__umModule.load+"&umModuleInit="+window.__umModule.init),window.__uabModule&&(p+="&uabModuleLoad="+window.__uabModule.load+"&uabModuleInit="+window.__uabModule.init),window.__ncModule&&(p+="&ncModuleLoad="+window.__ncModule.load+"&ncModuleInit="+window.__ncModule.init),window.__nsModule&&(p+="&nsModuleLoad="+window.__nsModule.load+"&nsModuleInit="+window.__nsModule.init),window.__etModule&&(p+="&etModuleLoad="+window.__etModule.load+"&etModuleInit="+window.__etModule.init),d.src=p,document.body.appendChild(d)}catch(m){console.log(m,"\u4e0a\u62a5\u5f02\u5e38")}return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])}if((a.indexOf("RGV587_ERROR::SM")>-1||a.indexOf("ASSIST_FLAG")>-1)&&t.data.url){var c=function(e){var t=new RegExp("(?:^|;\\s*)_m_h5_smt\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return t?t[1]:void 0}(),l=!1;if(!0===r.saveAntiCreepToken&&c)for(var f in c=JSON.parse(c))s[f]&&(l=!0);if(!0===r.saveAntiCreepToken&&c&&!l){for(var f in c)s[f]=c[f];return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])}return new i((function(i,a){function u(){c.removeEventListener("close",u),e.removeEventListener("message",d),a("USER_INPUT_CANCEL::\u7528\u6237\u53d6\u6d88\u8f93\u5165")}function d(t){var o;try{o=JSON.parse(t.data)||{}}catch(p){}if(o&&"child"===o.type){var l;c.removeEventListener("close",u),e.removeEventListener("message",d),c.hide();try{for(var f in"string"==typeof(l=JSON.parse(decodeURIComponent(o.content)))&&(l=JSON.parse(l)),l)s[f]=l[f];!0===r.saveAntiCreepToken?(document.cookie="_m_h5_smt="+JSON.stringify(l)+";",e.location.reload()):n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest]).then(i)}catch(p){a("USER_INPUT_FAILURE::\u7528\u6237\u8f93\u5165\u5931\u8d25")}}}var c=new o("",t.data);c.addEventListener("close",u,!1),e.addEventListener("message",d,!1),c.show()}))}}))}))}(window,window.lib||(window.lib={})),e.exports=window.lib.mtop},594:function(e,t,n){n.d(t,{$L:function(){return c}});var o,i,r,a=n(1216),s=(null===(o=navigator)||void 0===o?void 0:o.userAgent)||"",u=/aliapp\(/i.test(s),d=u&&/aliapp\((tb|tm|lt|taobaolive)/i.test(s),p={isAliApp:u,isTClient:d,isTmall:d&&/aliapp\(tm/i.test(s),isTaobao:d&&/aliapp\(tb/i.test(s),getClientVersion:function(){var e=a.kN.exec(s)||[],t=e[1],n=e[2];return t?{clientName:t,version:n}:null}},c="object"===typeof navigator&&("Mozilla"===navigator.appCodeName||"Gecko"===navigator.product);"function"===typeof window.callNative||"object"===typeof window.WXEnvironment&&window.WXEnvironment.platform,c&&(r=p);var l=(null===(i=navigator)||void 0===i?void 0:i.userAgent)||"";r.isAliApp,r.isTClient,r.isTmall,r.isTaobao,/kaolaApp|aliapp\(kl/i.test(l),/micromessenger|wechat/i.test(l),/alipay|aliapp\(ap/i.test(l),/ios|iphone|ipad|ipod/i.test(l),window&&window.screen&&window.screen.width&&window.screen.height&&(375===window.screen.width&&812===window.screen.height||390===window.screen.width&&844===window.screen.height||393===window.screen.width&&852===window.screen.height||414===window.screen.width&&896===window.screen.height||428===window.screen.width&&926===window.screen.height||430===window.screen.width&&window.screen.height),/adr|android/i.test(l),/TURBO/i.test(l),r.getClientVersion},5978:function(e,t,n){n.d(t,{oA:function(){return s}});var o,i=n(594),r=n(1216),a={addBackListener:function(e,t){return void 0===t&&(t=!1),e instanceof Function?(t&&r.p7.splice(0),r.p7.push(e),window.onpopstate=function(){var e=r.p7.pop();e?e():history.back()},window.history.pushState({},""),function(){var t=r.p7.indexOf(e);t>-1&&r.p7.splice(t,1)}):function(){return null}}};function s(e){return!0===e||"true"===e}i.$L&&(o=a),o.addBackListener},2854:function(e,t,n){n.d(t,{B5:function(){return s}});var o,i=n(594),r=n(1216),a={loadImage:function(e,t){return void 0===t&&(t=3e3),new Promise((function(n,o){var i=function(){try{document.body.removeChild(r)}catch(e){}},r=document.createElement("img");t&&setTimeout((function(){o(new Error("load "+e+" timeout")),i()}),t),r.src=e,r.style.width="0",r.style.height="0",r.onload=function(e){n(e),i()},r.onerror=function(e){o(e),i()},document.body.appendChild(r)}))},getCookie:function(e){if(!e)return"";var t=new RegExp("(?:^| )"+e+"(?:=([^;]*)|;|$)").exec(document.cookie);return t?decodeURIComponent(t[1]):""}};i.$L&&(o=a);var s=function(e){var t=r.lV.exec(e);if(!t)return null;var n=t[1],o=void 0===n?"":n,i=t[3],a=void 0===i?"":i,s=t[4],u=void 0===s?"":s,d=t[5],p=void 0===d?"":d,c=t[6],l=void 0===c?"":c,f=t[7],m=void 0===f?"":f,_=l.split("&").filter((function(e){return e})).map((function(e){return e.split("=")})).reduce((function(e,t){return e[decodeURIComponent(t[0])]=void 0===t[1]?void 0:decodeURIComponent(t[1]),e}),{});return{scheme:o,host:a,port:u,path:p,query:l,hash:m,params:_}}(location.href).params;o.loadImage,o.getCookie},1216:function(e,t,n){var o;n.d(t,{p7:function(){return u},kN:function(){return s},lV:function(){return a}});var i,r={windVaneAvailable:((null===(o=navigator)||void 0===o?void 0:o.userAgent)||"").toLowerCase().includes("windvane")};"object"===typeof navigator&&("Mozilla"===navigator.appCodeName||"Gecko"===navigator.product)&&(i=r);var a=/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/,s=/aliapp\((.+)\/([.0-9]+)\)/i,u=(new Map,i.windVaneAvailable,[])}}]);